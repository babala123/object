window.onload=function(){var r=document.getElementById("uname"),l=document.getElementById("pwd"),e=document.getElementById("registor"),n=document.getElementById("login"),o=document.getElementById("un"),t=document.getElementById("pass"),i=[!1,!1];r.onblur=function(){var e=r.value;/^[\u4e00-\u9fa5\w]{3,12}$/.test(e)?(o.innerHTML="中文、字母、数字、下划线的组合,3到12位",o.style.color="deepskyblue",i[0]=!0):(o.innerHTML="您的用户名不符合规范",o.style.color="red",i[0]=!1)},l.onblur=function(){var e=l.value;/^\w{6,12}$/.test(e)?(t.innerHTML="字母、数字、下划线，6到12位",t.style.color="deepskyblue",i[1]=!0):(t.innerHTML="您的密码不符合规则",t.style.color="red",i[1]=!1)},e.onclick=function(){var e=r.value,n=l.value;if(console.log(e,n),e)if(-1==i.indexOf(!1)){var o=getCookie("registorUser")?getCookie("registorUser"):"",t=function(e){if(!e)return{};var n=e.split(",");console.log(n);for(var o={},t=0;t<n.length;t++){var r=n[t].split(":");o[r[0]]=r[1]}return o}(o);e in t?alert("该用户名已存在！"):(t[e]=n,o=function(e){var n="";for(var o in e){var t=e[o];n&&(n+=","),n+=o+":"+t}return n}(t),createCookie("registorUser",o,7),alert("注册成功！"),alert(decodeURIComponent(document.cookie)))}else alert("请正确填写信息！");else alert("用户名不能为空！")},n.onclick=function(){location.href="login.html"}};